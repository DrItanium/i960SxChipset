#ifdef ARDUINO_SAMD_FEATHER_M0
    // setup PORTS PA15 and PA20 as clock sources (D
    GCLK->GENDIV.reg = GCLK_GENDIV_ID(4) | GCLK_GENDIV_DIV(2);
    GCLK->GENCTRL.reg = GCLK_GENCTRL_OE | GCLK_GENCTRL_GENEN | GCLK_GENCTRL_ID(4) | GCLK_GENCTRL_SRC_DFLL48M;
    while (GCLK->STATUS.bit.SYNCBUSY);// Syncronize write to GENCTRL reg.
    GCLK->GENDIV.reg = GCLK_GENDIV_ID(1) | GCLK_GENDIV_DIV(1);
    GCLK->GENCTRL.reg = GCLK_GENCTRL_OE | GCLK_GENCTRL_GENEN | GCLK_GENCTRL_ID(1) | GCLK_GENCTRL_SRC_DFLL48M;
    while (GCLK->STATUS.bit.SYNCBUSY);// Syncronize write to GENCTRL reg.
    GCLK->CLKCTRL.reg = GCLK_CLKCTRL_ID(GCLK_CLKCTRL_ID_TC6_TC7_Val) | GCLK_CLKCTRL_GEN(GCLK_CLKCTRL_GEN_GCLK4_Val) | GCLK_CLKCTRL_CLKEN;
    PORT->Group[0].PMUX[20/2].reg |= PORT_PMUX_PMUXE_H;
    PORT->Group[0].PINCFG[20].reg |= PORT_PINCFG_PMUXEN; // enable mux for pin PA20
    GCLK->CLKCTRL.reg = GCLK_CLKCTRL_ID(GCLK_CLKCTRL_ID_TC4_TC5_Val) | GCLK_CLKCTRL_GEN(GCLK_CLKCTRL_GEN_GCLK1_Val) | GCLK_CLKCTRL_CLKEN;
    PORT->Group[0].PMUX[15/2].reg |= PORT_PMUX_PMUXO_H;
    PORT->Group[0].PINCFG[15].reg |= PORT_PINCFG_PMUXEN;
#endif
